(this.webpackJsonpshopify_challenge=this.webpackJsonpshopify_challenge||[]).push([[0],{23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(2),s=n.n(a),o=n(3),c=n(4),r=n(8),l=n(9),d=(n(23),n(10)),u=n(11),b=n(13),m=n(12),h=n(1),p=function(e){var t=e.searchChange,n=e.keyPress;return Object(h.jsx)("input",{type:"Search",placeholder:"Search For a Movie",className:"pa1 br2 w-100",onChange:t,onKeyDown:n})},v=(n(25),function(e){var t=e.movieID,n=e.movieTitle,i=e.movieYear,a=e.url,s=e.buttonType,o=e.buttonPress,c=e.isDisabled,r=c?"unclickable w-40 tc pa2 ma3 br2 bg-black dim":"clickable w-40 tc pa2 ma3 br2 bg-black dim",l=c?"unclickable dimmed":"unclickable undimmed";return Object(h.jsxs)("div",{id:t,className:r,onClick:o,buttontype:s,movieid:t,movietitle:n,movieyear:i,movieposter:a,children:[Object(h.jsx)("img",{src:a,alt:"Loading...",className:l}),Object(h.jsx)("div",{className:"unclickable white avenir fw6 pa2 mt3 mb1",children:n}),Object(h.jsx)("div",{className:"unclickable white avenir mb2",children:" ("+i+")"})]})}),j=function(e){e.height;var t=e.children;return Object(h.jsx)("div",{style:{overflowY:"Scroll",height:"60vh"},className:"ma2",children:t})},g=(n(26),function(e){var t=e.title,n=e.movieList,i=e.buttonType,a=e.buttonPress,s=n.map((function(e){return Object(h.jsx)(v,{movieID:e.imdbID,movieTitle:e.Title,movieYear:e.Year,url:e.Poster,buttonType:i,buttonPress:a,isDisabled:e.isNominated},e.imdbID)}));return Object(h.jsxs)("div",{className:"MovieList pa3 br1 ba b--gold",children:[Object(h.jsx)("h4",{className:"gold",children:t}),Object(h.jsx)(j,{children:Object(h.jsx)("div",{className:"flex flex-wrap justify-center",children:s})})]})}),f=(n(27),function(e){var t=e.show,n=e.hideModal,i=t?"modal display-block":"modal display-none";return Object(h.jsx)("div",{className:i,children:Object(h.jsxs)("section",{className:"modal-main",children:[Object(h.jsx)("div",{className:"flex justify-end ma2",children:Object(h.jsx)("button",{className:"close-window-button",onClick:n,children:"x"})}),Object(h.jsx)("h3",{className:"gold tc pt2 pb4",children:"You have nominated 5 movies!"})]})})}),O=n.p+"static/media/chuttersnap-8nMjIn195p0-unsplash.017a17cb.jpg",y=(n(28),"CLOSE_LANDING"),w="CHANGE_SEARCH_FIELD",N="SEARCH_MOVIE_PENDING",x="SEARCH_MOVIE_SUCCESS",I="SEARCH_MOVIE_FAIL",M="ADD_NOMINEES",D="REMOVE_NOMINEES",C="CLOSE_BANNER",k=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onCloseLanding,n=e.onRequestMovieResults,i=e.onClickButton,a=e.onCloseModal,s=this.props,o=s.showLanding,c=s.searchField,r=s.isPending,l=s.movieResults,d=s.nominatedMovies,u=s.nominatedIDs,b=s.showBanner,m=[];return r||(m=l.map((function(e){return u.includes(e.imdbID)||u.length>=5?e.isNominated=!0:e.isNominated=!1,e}))),o?Object(h.jsxs)("div",{className:"bg-black",children:[Object(h.jsx)("img",{src:O,alt:"background",className:"vh-100 w-100 fade-in"}),Object(h.jsx)("h1",{className:"white pos-one fade-in",children:"Award Of The Year"}),Object(h.jsx)("div",{className:" gold pos-two bounce-fade pl1 pr1",children:"The Shoppies"}),Object(h.jsx)("button",{onClick:t,className:"pos-three fade-in-delay ba b--white bg-black white pl3 pr3 pt2 pb2 grow",children:"Vote Now"})]}):Object(h.jsxs)("div",{className:"w-100 vh-100 bg-black flex items-center flex-column",children:[Object(h.jsx)("h1",{className:"gold avenir fade-in",children:"The Shoppies"}),Object(h.jsxs)("div",{className:"pl3 pr3 pt1 pb3 ml3 mr3 mb3 mt1 w-70 br1 ba b--gold fade-in",children:[Object(h.jsx)("h4",{className:"gold",children:"Movie Title"}),Object(h.jsx)(p,{keyPress:n})]}),Object(h.jsxs)("div",{className:"ma2 w-70 flex justify-between fade-in",children:[Object(h.jsx)(g,{title:"Results for "+c,movieList:m,buttonType:"Nominate",buttonPress:i}),Object(h.jsx)(g,{title:"Nominated Movies",movieList:d,buttonType:"Remove",buttonPress:i})]}),Object(h.jsx)(f,{show:b,hideModal:a})]})}}]),n}(i.Component),S=Object(o.b)((function(e){return{showLanding:e.updatePageState.showLanding,searchField:e.updateSearchField.searchField,isPending:e.requestMovieResults.isPending,movieResults:e.requestMovieResults.movieResults,nominatedMovies:e.updateNominated.nominatedMovies,nominatedIDs:e.updateNominated.nominatedIDs,showBanner:e.updateNominated.showBanner}}),(function(e){return{onCloseLanding:function(){return e({type:y})},onRequestMovieResults:function(t){return e(function(e,t){return function(n){13===e.keyCode&&(n({type:w,payload:t}),n({type:N}),fetch("http://www.omdbapi.com/?apikey=8973ebc0&s="+t).then((function(e){return e.json()})).then((function(e){n({type:x,payload:e})})).catch((function(e){return n({type:I,payload:e})})))}}(t,t.target.value))},onClickButton:function(t){return e(function(e){return function(t){console.log(e.target);var n=e.target.attributes.buttontype.value.toLowerCase(),i=e.target.attributes.movieID.value,a=e.target.attributes.movietitle.value,s=e.target.attributes.movieyear.value,o=e.target.attributes.movieposter.value;"nominate"===n?t({type:M,payload:{imdbID:i,Title:a,Year:s,Poster:o}}):"remove"===n&&t({type:D,payload:i})}}(t))},onCloseModal:function(){return e({type:C})}}}))(k),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),s(e),o(e)}))},L=(n(29),{showLanding:!0}),P={searchField:""},R={movieResults:[],isPending:!1,error:""},T={nominatedMovies:[],nominatedIDs:[],showBanner:!1},F=Object(r.createLogger)(),_=Object(c.b)({updatePageState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case y:return Object.assign({},e,{showLanding:!1});default:return e}},updateSearchField:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case w:return Object.assign({},e,{searchField:t.payload});default:return e}},requestMovieResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case N:return Object.assign({},e,{isPending:!0});case x:return Object.assign({},e,{movieResults:t.payload.Search,isPending:!1});case I:return Object.assign({},e,{error:t.payload,isPending:!1});default:return e}},updateNominated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case M:return Object.assign({},e,{nominatedMovies:e.nominatedMovies.concat(t.payload),nominatedIDs:e.nominatedIDs.concat(t.payload.imdbID),showBanner:e.nominatedIDs.length>=4});case D:return Object.assign({},e,{nominatedMovies:e.nominatedMovies.filter((function(e){return e.imdbID!==t.payload})),nominatedIDs:e.nominatedIDs.filter((function(e){return e!==t.payload})),showBanner:!1});case C:return Object.assign({},e,{showBanner:!1});default:return e}}}),B=Object(c.c)(_,Object(c.a)(l.a,F));s.a.render(Object(h.jsx)(o.a,{store:B,children:Object(h.jsx)(S,{})}),document.getElementById("root")),E()}},[[30,1,2]]]);
//# sourceMappingURL=main.03486e18.chunk.js.map